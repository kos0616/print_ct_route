(function(){"use strict";var e={3031:function(e,t,l){var a=l(5130),n=l(6768),o=l(4232);const r={class:"mx-auto print:hidden"},s={class:"pb-10"},i={class:"px-5 lg:px-0"},c={class:"py-5 mb-10"},u={class:"bg-stone-100 py-3 lg:py-10"},d={key:0,class:"px-3 py-2 lg:p-5 print:p-0"},p={class:"w-full overflow-x-auto xl:overflow-visible"};function v(e,t,l,a,v,b){const m=(0,n.g2)("myHeader"),g=(0,n.g2)("aboutCT"),h=(0,n.g2)("intro"),f=(0,n.g2)("tutorial"),k=(0,n.g2)("preview"),y=(0,n.g2)("copyright");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",r,[(0,n.Lk)("div",s,[(0,n.bF)(m)]),(0,n.Lk)("div",i,[(0,n.Lk)("div",c,[(0,n.bF)(g,{class:"max-w-5xl mx-auto"})])]),(0,n.Lk)("div",u,[(0,n.bF)(h,{class:"mx-auto max-w-5xl"})]),(0,n.Lk)("div",{class:(0,o.C4)([{"border-b border-gray-300 border-dashed":e.isUpload},"py-10"]),id:"intro"},[(0,n.bF)(f,{onUpload:e.handleUploaded,class:"mx-auto max-w-5xl"},null,8,["onUpload"])],2)]),e.isUpload?((0,n.uX)(),(0,n.CE)("div",d,[(0,n.Lk)("div",p,[(0,n.bF)(k,{modelValue:e.STEPS},null,8,["modelValue"])])])):(0,n.Q3)("",!0),(0,n.bF)(y,{class:"print:hidden"})],64)}var b=l(144);const m={class:"print:hidden sticky -top-px mb-3 w-100 z-20",ref:"REF_MENU"},g={id:"printer"},h={class:"grid grid-cols-2 md:flex print:flex gap-x-14 justify-center items-start"},f={class:"text-center py-5 print:hidden border-t border-dashed border-gray-400 mt-5"},k=["disabled"],y=(0,n.Lk)("i",{class:"icon-print text-2xl","aria-hidden":"true"},null,-1),x=(0,n.eW)(" 列印小抄 "),_=[y,x];function w(e,t,l,a,o,r){const s=(0,n.g2)("allEditor"),i=(0,n.g2)("full"),c=(0,n.g2)("type_A"),u=(0,n.g2)("type_A2"),d=(0,n.g2)("type_B"),p=(0,n.g2)("type_B2");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",m,[(0,n.bF)(s)],512),(0,n.Lk)("div",g,[(0,n.bF)(i,{STEPS:e.STEPS,class:"mb-5 hidden md:table print:table"},null,8,["STEPS"]),(0,n.Lk)("div",h,[(0,n.Lk)("div",null,[(0,n.bF)(c,{STEPS:e.STEPS,class:"mb-5"},null,8,["STEPS"])]),(0,n.Lk)("div",null,[(0,n.bF)(u,{STEPS:e.STEPS,class:"mb-5"},null,8,["STEPS"])]),(0,n.Lk)("div",null,[(0,n.bF)(d,{STEPS:e.STEPS},null,8,["STEPS"])]),(0,n.Lk)("div",null,[(0,n.bF)(p,{STEPS:e.STEPS},null,8,["STEPS"])])])]),(0,n.Lk)("div",f,[(0,n.Lk)("button",{disabled:!Array.isArray(e.STEPS)||!e.STEPS.length,onclick:"window.print()",class:"btn-print",title:"列印小抄",type:"button"},_,8,k)])])}const S=e=>((0,n.Qi)("data-v-9c42e9c4"),e=e(),(0,n.jt)(),e),L=S((()=>(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",{colspan:"2"},"區段"),(0,n.Lk)("th",null,"距離"),(0,n.Lk)("th",null,"累積"),(0,n.Lk)("th",null,"配瓦"),(0,n.Lk)("th",null,"均速"),(0,n.Lk)("th",null,"區段時間"),(0,n.Lk)("th",null,"累積時間")])],-1))),E=["onMouseover"],C={class:"text-center"},T={class:"text-center"},P={class:"text-right font-bold"},M=S((()=>(0,n.Lk)("small",null,"k",-1))),A={class:"text-right font-bold"},F=S((()=>(0,n.Lk)("small",null,"k",-1))),R={class:"text-right font-bold"},X=S((()=>(0,n.Lk)("small",null,"w",-1))),I={class:"text-right font-bold"},K=S((()=>(0,n.Lk)("small",null,"k/h",-1))),U={class:"text-center"},Y={class:"text-center relative"},W={class:"border border-gray-600 border-t-0",style:{"caption-side":"bottom"}},O={class:"flex w-full py-1 px-3"},j=S((()=>(0,n.Lk)("span",null,null,-1))),Q={class:"ml-auto"};function z(e,t,l,a,r,s){const i=(0,n.g2)("editor");return(0,n.uX)(),(0,n.CE)("table",{onMouseleave:t[0]||(t[0]=t=>e.active=null),class:"table-auto table-striped border border-gray-600 table mx-auto",contenteditable:""},[L,(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.MY_STEPS,((t,l)=>((0,n.uX)(),(0,n.CE)("tr",{onMouseover:t=>e.active=l,key:`step_${l}`},[(0,n.Lk)("td",C,[t.icon?((0,n.uX)(),(0,n.CE)("i",{key:0,class:(0,o.C4)([t.icon,"fas text-xs fa-fw"])},null,2)):(0,n.Q3)("",!0),(0,n.eW)((0,o.v_)(t.start||"-"),1)]),(0,n.Lk)("td",T,(0,o.v_)(t.end||"-"),1),(0,n.Lk)("td",P,[(0,n.eW)((0,o.v_)(t.distance||"0"),1),M]),(0,n.Lk)("td",A,[(0,n.eW)((0,o.v_)(t.cumulative_distance||"0"),1),F]),(0,n.Lk)("td",R,[(0,n.eW)((0,o.v_)(t.wattage||"0"),1),X]),(0,n.Lk)("td",I,[(0,n.eW)((0,o.v_)(t.average_speed||"0"),1),K]),(0,n.Lk)("td",U,(0,o.v_)(t.segment_time||"00:00"),1),(0,n.Lk)("td",Y,[(0,n.eW)((0,o.v_)(t.cumulative_time||"00:00")+" ",1),e.active===l?((0,n.uX)(),(0,n.Wv)(i,{key:0,onAdd:a=>e.MY_STEPS.splice(l,0,t),onRemove:t=>e.MY_STEPS.splice(l,1),onIcon:e.handleGetIcon},null,8,["onAdd","onRemove","onIcon"])):(0,n.Q3)("",!0)])],40,E)))),128))]),(0,n.Lk)("caption",W,[(0,n.Lk)("div",O,[j,(0,n.Lk)("span",Q,(0,o.v_)(e.now),1)])])],32)}var N=l(1576),$=l.n(N);const B=e=>((0,n.Qi)("data-v-23d6ad12"),e=e(),(0,n.jt)(),e),q={class:"z-20 absolute right-0 -top-2 print:hidden px-1 py-2",style:{transform:"translateX(calc(100% + 1px))"}},G={class:"grid arrow relative text-gray-600 border border-gray-300 rounded-md p-1 text-sm bg-white",contenteditable:"false"},D=B((()=>(0,n.Lk)("i",{class:"fa-solid fa-plus fa-fw"},null,-1))),V=[D],H=B((()=>(0,n.Lk)("i",{class:"fa-solid fa-trash-can fa-fw"},null,-1))),J=[H],Z=B((()=>(0,n.Lk)("strong",null,"icon",-1))),ee=[Z],te={key:0,class:"grid grid-cols-2 py-1 border-t gap-1"},le=["onClick"];function ae(e,t,l,a,r,s){return(0,n.uX)(),(0,n.CE)("div",q,[(0,n.Lk)("div",G,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$emit("add")),title:"增加列",class:"p-1 hover:text-green-600"},V),(0,n.Lk)("button",{onClick:t[1]||(t[1]=t=>e.$emit("remove")),title:"刪除列",class:"p-1 hover:text-red-500"},J),(0,n.Lk)("button",{onClick:t[2]||(t[2]=t=>e.iconOpened=!e.iconOpened),title:"加入icon",class:"p-1 hover:text-blue-600"},ee),e.iconOpened?((0,n.uX)(),(0,n.CE)("div",te,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.icons,((t,l)=>((0,n.uX)(),(0,n.CE)("button",{onClick:l=>e.$emit("icon",t),key:`icon${l}`,class:"hover:text-orange-500"},[(0,n.Lk)("i",{class:(0,o.C4)([t,"fas fa-fw"])},null,2)],8,le)))),128))])):(0,n.Q3)("",!0)])])}const ne=["fa-star","fa-flag","fa-solid fa-arrow-trend-up","fa-arrow-trend-down","fa-droplet","fa-utensils","fa-truck-droplet","fa-truck"];var oe=(0,n.pM)({emits:["add","remove","icon"],setup(){const e=(0,b.KR)(!1);return{iconOpened:e,icons:ne}}}),re=l(1241);const se=(0,re.A)(oe,[["render",ae],["__scopeId","data-v-23d6ad12"]]);var ie=se,ce=(0,n.pM)({components:{editor:ie},props:{STEPS:{type:Array,default:()=>[]}},setup:e=>{const t=$()().format("YYYY/MM/DD"),l=(0,b.KR)([]),a=(0,b.KR)(null),o=e=>{let t=e;null!==a.value&&(l.value[a.value].icon===t&&(t=""),l.value[a.value].icon=t)};return(0,n.wB)((()=>e.STEPS),(e=>{l.value=e.map((e=>({...e})))}),{immediate:!0}),{now:t,MY_STEPS:l,active:a,handleGetIcon:o}}});const ue=(0,re.A)(ce,[["render",z],["__scopeId","data-v-9c42e9c4"]]);var de=ue;const pe=e=>((0,n.Qi)("data-v-68f70df2"),e=e(),(0,n.jt)(),e),ve=["onMouseover"],be={class:"relative text-right"},me=pe((()=>(0,n.Lk)("small",null,"k",-1))),ge=["onMouseover"],he={class:"text-right"},fe=pe((()=>(0,n.Lk)("small",null,"k/h",-1)));function ke(e,t,l,a,r,s){const i=(0,n.g2)("myCaption"),c=(0,n.g2)("editor");return(0,n.uX)(),(0,n.CE)("table",{onMouseleave:t[0]||(t[0]=t=>e.active=null),class:"table-auto border table-striped table table-sm border-gray-600",contenteditable:""},[(0,n.bF)(i),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.MY_STEPS,((t,l)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:`step_${l}`},[(0,n.Lk)("tr",{onMouseover:t=>e.active=l},[(0,n.Lk)("td",null,[t.icon?((0,n.uX)(),(0,n.CE)("i",{key:0,class:(0,o.C4)([t.icon,"fas text-xs fa-fw"])},null,2)):(0,n.Q3)("",!0),(0,n.eW)((0,o.v_)(t.end||"-"),1)]),(0,n.Lk)("td",be,[(0,n.eW)((0,o.v_)(t.cumulative_distance||"0"),1),me,e.active===l?((0,n.uX)(),(0,n.Wv)(c,{key:0,onAdd:a=>e.MY_STEPS.splice(l,0,t),onRemove:t=>e.MY_STEPS.splice(l,1),onIcon:e.handleGetIcon},null,8,["onAdd","onRemove","onIcon"])):(0,n.Q3)("",!0)])],40,ve),(0,n.Lk)("tr",{onMouseover:t=>e.active=l},[(0,n.Lk)("td",null,(0,o.v_)(t.cumulative_time||"00:00"),1),(0,n.Lk)("td",he,[(0,n.eW)((0,o.v_)(t.average_speed||"0"),1),fe])],40,ge)],64)))),128))]),(0,n.bF)(i,{style:{"caption-side":"bottom"}})],32)}const ye=["src"],xe={key:1};function _e(e,t,l,a,r,s){const i=(0,n.g2)("imgUploader");return(0,n.uX)(),(0,n.CE)("caption",{class:(0,o.C4)([{"border-dashed border border-gray-400 ":!e.top_img},"print:border-0 relative"])},[(0,n.bF)(i,{onChange:e.handleImgUpload,class:"absolute right-0 top-0",style:{transform:"translateX(calc(100% + 10px))"},contenteditable:"false"},null,8,["onChange"]),e.top_img?((0,n.uX)(),(0,n.CE)("img",{key:0,onClick:t[0]||(t[0]=t=>e.top_img=""),src:e.top_img,class:"cursor-pointer hover:opacity-50 transition-opacity",title:"刪除圖片",loading:"lazy"},null,8,ye)):((0,n.uX)(),(0,n.CE)("br",xe))],2)}const we=e=>((0,n.Qi)("data-v-cf04b468"),e=e(),(0,n.jt)(),e),Se={key:0,class:"py-1 px-2 inline-block relative cursor-pointer",title:"插入圖片"},Le=we((()=>(0,n.Lk)("i",{class:"icon-image text-gray-500","aria-label":"插入圖片的標示"},null,-1))),Ee={ref:"REF_CROP",class:"z-20 py-2 px-2"},Ce={key:1,class:"text-center justify-center flex gap-x-2 pb-2"},Te=we((()=>(0,n.Lk)("i",{class:"icon-trash-alt text-red-500","aria-hidden":"true"},null,-1))),Pe=(0,n.eW)(" 取消 "),Me=[Te,Pe],Ae=we((()=>(0,n.Lk)("i",{class:"icon-check","aria-hidden":"true"},null,-1))),Fe=(0,n.eW)(" 確認 "),Re=[Ae,Fe];function Xe(e,t,l,r,s,i){return(0,n.uX)(),(0,n.CE)("div",{class:(0,o.C4)([{"z-10":e.CROP_INST},"print:hidden text-center border border-gray-300 hover:border-gray-400 transition-colors rounded-md arrow bg-white"])},[e.CROP_INST?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("label",Se,[Le,(0,n.Lk)("input",{onChange:t[0]||(t[0]=(...t)=>e.handelUpload&&e.handelUpload(...t)),type:"file",accept:"image/*",class:"opacity-0 hidden w-px h-px absolute left-1/2 bottom-1/2",required:""},null,32)])),(0,n.bo)((0,n.Lk)("div",Ee,null,512),[[a.aG,e.CROP_INST]]),e.CROP_INST?((0,n.uX)(),(0,n.CE)("div",Ce,[(0,n.Lk)("button",{onClick:t[1]||(t[1]=(...t)=>e.removeCrop&&e.removeCrop(...t)),type:"button",class:"border rounded py-1 px-3 border-gray-300 hover:bg-slate-100",title:"取消"},Me),(0,n.Lk)("button",{onClick:t[2]||(t[2]=(...t)=>e.getCrop&&e.getCrop(...t)),type:"button",class:"border rounded py-1 px-3 bg-blue-500 hover:bg-blue-600 text-white",title:"確認"},Re)])):(0,n.Q3)("",!0)],2)}var Ie=l(8286),Ke=l.n(Ie),Ue=(0,n.pM)({emits:["change"],setup(e,{emit:t}){const l=(0,b.KR)(null),a=(0,b.KR)(null),o=(0,b.KR)(""),r=e=>{const t=e.target;if(!t||null===t)return;const l=t.files||[];if(!l.length)return;const a=new FileReader;a.onload=e=>{"string"===typeof e.target?.result&&s(e.target?.result)},a.readAsDataURL(l[0])},s=e=>{null===a.value?i(e):a.value.bind({url:e})},i=e=>{const t=l.value;null!==t&&(a.value=new(Ke())(t,{viewport:{width:160,height:90},boundary:{width:160,height:90},customClass:"h-auto"}),a.value.bind({url:e}))},c=()=>{null!==a.value&&(a.value.result({type:"canvas",size:"original"}).then((e=>{t("change",e)})),u())},u=()=>{a.value&&(a.value?.destroy(),a.value=null,o.value="")};return(0,n.hi)((()=>u())),{REF_CROP:l,handelUpload:r,getCrop:c,CROP_RESULT:o,CROP_INST:a,removeCrop:u}}});const Ye=(0,re.A)(Ue,[["render",Xe],["__scopeId","data-v-cf04b468"]]);var We=Ye,Oe=(0,n.pM)({name:"caption with image uploader",components:{imgUploader:We},setup(){const e=(0,b.KR)(""),t=t=>{e.value=t};return{top_img:e,handleImgUpload:t}}});const je=(0,re.A)(Oe,[["render",_e]]);var Qe=je,ze=(0,n.pM)({components:{myCaption:Qe,editor:ie},props:{STEPS:{type:Array,default:()=>[]}},setup(e){const t=(0,b.KR)([]),l=(0,b.KR)(null),a=e=>{let a=e;null!==l.value&&(t.value[l.value].icon===a&&(a=""),t.value[l.value].icon=a)};return(0,n.wB)((()=>e.STEPS),(e=>{t.value=e.map((e=>({...e})))}),{immediate:!0}),{MY_STEPS:t,active:l,handleGetIcon:a}}});const Ne=(0,re.A)(ze,[["render",ke],["__scopeId","data-v-68f70df2"]]);var $e=Ne;const Be=e=>((0,n.Qi)("data-v-1b87a4e5"),e=e(),(0,n.jt)(),e),qe=["onMouseover"],Ge={class:"relative text-right"},De=Be((()=>(0,n.Lk)("small",null,"k",-1))),Ve=["onMouseover"],He={class:"text-right"},Je=Be((()=>(0,n.Lk)("small",null,"w",-1)));function Ze(e,t,l,a,r,s){const i=(0,n.g2)("myCaption"),c=(0,n.g2)("editor");return(0,n.uX)(),(0,n.CE)("table",{onMouseleave:t[0]||(t[0]=t=>e.active=null),class:"table-auto border table-striped table table-sm border-gray-600",contenteditable:""},[(0,n.bF)(i),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.MY_STEPS,((t,l)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:`step_${l}`},[(0,n.Lk)("tr",{onMouseover:t=>e.active=l},[(0,n.Lk)("td",null,[t.icon?((0,n.uX)(),(0,n.CE)("i",{key:0,class:(0,o.C4)([t.icon,"fas text-xs fa-fw"])},null,2)):(0,n.Q3)("",!0),(0,n.eW)((0,o.v_)(t.end||"-"),1)]),(0,n.Lk)("td",Ge,[(0,n.eW)((0,o.v_)(t.cumulative_distance||"0"),1),De,e.active===l?((0,n.uX)(),(0,n.Wv)(c,{key:0,onAdd:a=>e.MY_STEPS.splice(l,0,t),onRemove:t=>e.MY_STEPS.splice(l,1),onIcon:e.handleGetIcon},null,8,["onAdd","onRemove","onIcon"])):(0,n.Q3)("",!0)])],40,qe),(0,n.Lk)("tr",{onMouseover:t=>e.active=l},[(0,n.Lk)("td",null,(0,o.v_)(t.cumulative_time||"00:00"),1),(0,n.Lk)("td",He,[(0,n.eW)((0,o.v_)(t.wattage||"0"),1),Je])],40,Ve)],64)))),128))]),(0,n.bF)(i,{style:{"caption-side":"bottom"}})],32)}var et=(0,n.pM)({components:{myCaption:Qe,editor:ie},props:{STEPS:{type:Array,default:()=>[]}},setup(e){const t=(0,b.KR)([]),l=(0,b.KR)(null),a=e=>{let a=e;null!==l.value&&(t.value[l.value].icon===a&&(a=""),t.value[l.value].icon=a)};return(0,n.wB)((()=>e.STEPS),(e=>{t.value=e.map((e=>({...e})))}),{immediate:!0}),{MY_STEPS:t,active:l,handleGetIcon:a}}});const tt=(0,re.A)(et,[["render",Ze],["__scopeId","data-v-1b87a4e5"]]);var lt=tt;const at=e=>((0,n.Qi)("data-v-8ae30dac"),e=e(),(0,n.jt)(),e),nt=["onMouseover"],ot={class:"text-right"},rt=at((()=>(0,n.Lk)("small",null,"k",-1))),st={class:"text-right"},it=at((()=>(0,n.Lk)("small",null,"k/h",-1))),ct={class:"relative"};function ut(e,t,l,a,r,s){const i=(0,n.g2)("myCaption"),c=(0,n.g2)("editor");return(0,n.uX)(),(0,n.CE)("table",{onMouseleave:t[0]||(t[0]=t=>e.active=null),class:"table-auto border table-striped table table-sm border-gray-600",contenteditable:""},[(0,n.bF)(i),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.MY_STEPS,((t,l)=>((0,n.uX)(),(0,n.CE)("tr",{key:`step_${l}`,onMouseover:t=>e.active=l},[(0,n.Lk)("td",ot,[t.icon?((0,n.uX)(),(0,n.CE)("i",{key:0,class:(0,o.C4)([t.icon,"fas text-xs fa-fw"])},null,2)):(0,n.Q3)("",!0),(0,n.eW)((0,o.v_)(t.cumulative_distance||"0"),1),rt]),(0,n.Lk)("td",st,[(0,n.eW)((0,o.v_)(t.average_speed||"0"),1),it]),(0,n.Lk)("td",ct,[(0,n.eW)((0,o.v_)(t.cumulative_time||"00:00")+" ",1),e.active===l?((0,n.uX)(),(0,n.Wv)(c,{key:0,onAdd:a=>e.MY_STEPS.splice(l,0,t),onRemove:t=>e.MY_STEPS.splice(l,1),onIcon:e.handleGetIcon},null,8,["onAdd","onRemove","onIcon"])):(0,n.Q3)("",!0)])],40,nt)))),128))]),(0,n.bF)(i,{style:{"caption-side":"bottom"}})],32)}var dt=(0,n.pM)({components:{myCaption:Qe,editor:ie},props:{STEPS:{type:Array,default:()=>[]}},setup(e){const t=(0,b.KR)([]),l=(0,b.KR)(null),a=e=>{let a=e;null!==l.value&&(t.value[l.value].icon===a&&(a=""),t.value[l.value].icon=a)};return(0,n.wB)((()=>e.STEPS),(e=>{t.value=e.map((e=>({...e})))}),{immediate:!0}),{MY_STEPS:t,active:l,handleGetIcon:a}}});const pt=(0,re.A)(dt,[["render",ut],["__scopeId","data-v-8ae30dac"]]);var vt=pt;const bt=e=>((0,n.Qi)("data-v-bdbb9ada"),e=e(),(0,n.jt)(),e),mt=["onMouseover"],gt={class:"text-right"},ht=bt((()=>(0,n.Lk)("small",null,"k",-1))),ft={class:"text-right"},kt=bt((()=>(0,n.Lk)("small",null,"w",-1))),yt={class:"relative"};function xt(e,t,l,a,r,s){const i=(0,n.g2)("myCaption"),c=(0,n.g2)("editor");return(0,n.uX)(),(0,n.CE)("table",{onMouseleave:t[0]||(t[0]=t=>e.active=null),class:"table-auto border table-striped table table-sm border-gray-600",contenteditable:""},[(0,n.bF)(i),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.MY_STEPS,((t,l)=>((0,n.uX)(),(0,n.CE)("tr",{key:`step_${l}`,onMouseover:t=>e.active=l},[(0,n.Lk)("td",gt,[t.icon?((0,n.uX)(),(0,n.CE)("i",{key:0,class:(0,o.C4)([t.icon,"fas text-xs fa-fw"])},null,2)):(0,n.Q3)("",!0),(0,n.eW)((0,o.v_)(t.cumulative_distance||"0"),1),ht]),(0,n.Lk)("td",ft,[(0,n.eW)((0,o.v_)(t.wattage||"0"),1),kt]),(0,n.Lk)("td",yt,[(0,n.eW)((0,o.v_)(t.cumulative_time||"00:00")+" ",1),e.active===l?((0,n.uX)(),(0,n.Wv)(c,{key:0,onAdd:a=>e.MY_STEPS.splice(l,0,t),onRemove:t=>e.MY_STEPS.splice(l,1),onIcon:e.handleGetIcon},null,8,["onAdd","onRemove","onIcon"])):(0,n.Q3)("",!0)])],40,mt)))),128))]),(0,n.bF)(i,{style:{"caption-side":"bottom"}})],32)}var _t=(0,n.pM)({components:{myCaption:Qe,editor:ie},props:{STEPS:{type:Array,default:()=>[]}},setup(e){const t=(0,b.KR)([]),l=(0,b.KR)(null),a=e=>{let a=e;null!==l.value&&(t.value[l.value].icon===a&&(a=""),t.value[l.value].icon=a)};return(0,n.wB)((()=>e.STEPS),(e=>{t.value=e.map((e=>({...e})))}),{immediate:!0}),{MY_STEPS:t,active:l,handleGetIcon:a}}});const wt=(0,re.A)(_t,[["render",xt],["__scopeId","data-v-bdbb9ada"]]);var St=wt;const Lt={class:"flex justify-center mx-auto"},Et={title:"變更表格顏色",class:"menu-item"},Ct=(0,n.Lk)("i",{class:"fa-solid fa-fill",style:{color:"var(--table-row-color)"}},null,-1),Tt=(0,n.Lk)("i",{class:"fa-solid fa-text-height"},null,-1),Pt=[Tt];function Mt(e,t,l,a,o,r){return(0,n.uX)(),(0,n.CE)("nav",Lt,[(0,n.Lk)("label",Et,[(0,n.Lk)("input",{onInput:t[0]||(t[0]=(...t)=>e.changeColor&&e.changeColor(...t)),type:"color",class:"invisible w-0 h-0"},null,32),Ct]),(0,n.Lk)("button",{title:"變更文字大小",onClick:t[1]||(t[1]=(...t)=>e.changeFontSize&&e.changeFontSize(...t)),class:"menu-item"},Pt)])}var At=(0,n.pM)({setup(){const e=(0,b.KR)(""),t=e=>{document.documentElement.style.setProperty("--table-row-color",e.target.value)},l=(0,b.KR)(1),a=()=>{const e=document.querySelector("#printer");if(!e)return;const t=["80%","100%","120%"],a=l.value+1;l.value=a>t.length-1?0:a,e.style.fontSize=t[l.value]};return{color:e,changeFontSize:a,changeColor:t}}});const Ft=(0,re.A)(At,[["render",Mt]]);var Rt=Ft,Xt=(0,n.pM)({name:"print preview",components:{full:de,type_A:$e,type_A2:lt,type_B:vt,type_B2:St,allEditor:Rt},props:{modelValue:{type:Array,default:()=>[]}},setup(e){const t=e=>{switch(e){case"最高小七":return"小七";default:return e}},l=(0,n.EW)((()=>e.modelValue.map((e=>({...e,start:t(e.start),end:t(e.end),distance:Number(e.distance).toFixed(1),cumulative_distance:Number(e.cumulative_distance).toFixed(1),wattage:e.wattage,average_speed:`${Math.floor(Number(e.average_speed))}`,segment_time:a(e.segment_time),cumulative_time:a(e.cumulative_time)}))))),a=(e="")=>{const t=e.split(":");return t[0]+":"+t[1]},o=(0,b.KR)(null),r=()=>{const e=o.value;if(!e)return;const t=new IntersectionObserver((([e])=>e.target.classList.toggle("is-sticky",e.intersectionRatio<1)),{threshold:[1]});t.observe(e)};return(0,n.sV)((()=>{r()})),{STEPS:l,formatPlaceName:t,REF_MENU:o}}});const It=(0,re.A)(Xt,[["render",w]]);var Kt=It,Ut=l.p+"img/sample2.82418ca5.webp";const Yt={class:"lg:flex gap-x-10 items-start justify-between"},Wt=(0,n.Fv)('<div class="w-full sm:w-2/3 lg-w-1/2 mx-auto lg:w-full px-3 xl:px-0 py-5 lg:py-0"><h2 class="text-2xl title"><i class="icon-edit text-orange-500" aria-hidden="true"></i> 自由編輯，隨興發揮 </h2><div class="mb-5"><h3 class="text-xl mb-1"><i class="icon-table" aria-hidden="true"></i> 表格文字 </h3><p class="pl-7"> 您可以將小七改為7-11、標記休息點、或是移除單位以節省空間。 </p></div><div class="mb-5"><h3 class="text-xl mb-1"><i class="w-5 h-5 inline-block border rounded border-gray-400 border-dashed align-sub"></i> 表頭表尾備註 </h3><p class="pl-7"> 緊急聯絡人？「莫忘初衷」？ 只要龍頭/上管塞得下就沒問題！ </p></div><div class="mb-5"><h3 class="text-xl mb-1"><i class="icon-image text-gray-500" aria-hidden="true"></i> 圖片裝飾 </h3><p class="pl-7"> 小孩照片還是另一半的照片？ 別擔心，可以放2張照片。 <small class="block text-gray-400"> *本工具沒有上傳功能，不會記錄任何圖片 </small></p></div></div><figure class="w-full hidden lg:block"><img src="'+Ut+'" width="492" height="328" loading="lazy" alt="貼在龍頭的小抄"></figure>',2),Ot=[Wt];function jt(e,t){return(0,n.uX)(),(0,n.CE)("article",Yt,Ot)}const Qt={},zt=(0,re.A)(Qt,[["render",jt]]);var Nt=zt;const $t={class:"md:flex gap-10"},Bt=(0,n.Fv)('<article class="sm:w-2/3 lg:w-full pt-3 lg:pt-0 mx-auto"><header class="text-2xl title mb-3"><i class="icon-lightbulb text-orange-500"></i> 啟發自 <a href="https://www.youtube.com/c/CTYeh" target="_blank" class="underline" title="前往 CT Yeh 的頻道">CT Yeh</a> 的配速器 </header><blockquote cite="https://www.youtube.com/c/CTYeh/about" class="border border-stone-300 border-dashed py-2 px-3 rounded-md relative"><i class="icon-scissors absolute right-0 top-2/3 translate-x-1/2 rotate-90"></i> &quot; 以自行車冒險、路線分析攻略、空拍、比賽實況、訓練台、3C 等運動科技相關議題為主，歡迎訂閱鎖定 &quot; <div class="text-right"><a href="https://www.youtube.com/c/CTYeh" target="_blank" title="前往 CT Yeh 的頻道"><img src="https://img.shields.io/youtube/channel/subscribers/UC5AIxJqajtl41ZxCbiuoagA?label=%E8%A8%82%E9%96%B1%E6%88%90%E9%95%B7%E4%B8%AD" alt="CT Yeh 頻道的訂閱人數" class="max-w-full h-auto inline-block" width="116" height="20" loading="lazy"></a></div></blockquote><blockquote cite="https://github.com/kos0616/print_ct_route" class="border border-stone-300 border-dashed py-2 px-3 rounded-md relative mt-10"><i class="icon-scissors absolute left-0 top-2/3 -translate-x-1/2 -rotate-90"></i> &quot; 此站是在看了 CT Yeh 的 AI 配速產生器特輯後，受到啟發而製作的，希望這個配速小抄產生器能幫助到車友。&quot; <footer class="text-right">- 作者</footer></blockquote></article>',1);function qt(e,t){const a=(0,n.g2)("lite-youtube");return(0,n.uX)(),(0,n.CE)("div",$t,[(0,n.bF)(a,{videoid:"PRmUBohZG9c",style:(0,o.Tr)({"background-image":`url(${l(8559)})`}),class:"w-full h-auto aspect-video mb-3"},null,8,["style"]),Bt])}const Gt={},Dt=(0,re.A)(Gt,[["render",qt]]);var Vt=Dt;const Ht={class:"md:flex gap-x-10 items-center justify-between px-5 xl:px-0"},Jt=(0,n.Fv)('<article class="w-full sm:w-2/3 lg-w-1/2 mb-5 md:mb-0 mx-auto"><h2 class="text-2xl title">我該如何上手？</h2><ol class="list-decimal pl-5"><li> 前往 <b>CT Yeh 公路車基地</b>，在單車路線頁選擇配速。 </li><li>下載小抄 檔名為 <b>ride_plan.csv</b>。</li><li><b class="bg-green-600 text-white px-1 rounded">匯入 ride_plan.csv</b> 匯入成功可在底下預覽與編輯。 </li><li><b class="bg-blue-500 text-white px-1 rounded">列印小抄</b> 取得您獨一無二的配速表，或是上傳至 7-11 雲端列印。 </li><li>列印後剪下，經護貝或用膠帶黏貼正反兩面即可防水。</li></ol></article>',1),Zt={class:"w-full sm:w-2/3 lg-w-1/2 flex gap-x-4 justify-center text-center items-start mx-auto"},el={class:"mb-5 md:mb-0"},tl=(0,n.Lk)("a",{href:"https://www.ctyeh.com/routelist",target:"_blank",class:"underline text-green-700 my-8 lg:mt-3 lg:mb-0 block",title:"前往 CT Yeh 公路車基地"}," Get ride_plan.csv ",-1),ll={class:"text-center"},al=["disabled"],nl=(0,n.Lk)("i",{class:"icon-print md:text-2xl","aria-hidden":"true"},null,-1),ol=(0,n.eW)(" 列印小抄 "),rl=[nl,ol],sl=(0,n.Lk)("a",{href:"https://print.ibon.com.tw/ibonprinter",target:"_blank",class:"underline text-green-700 my-8 lg:mt-3 lg:mb-0 block",title:"使用 7-11 雲端列印"}," 7-11 雲端列印 ",-1);function il(e,t,l,a,o,r){const s=(0,n.g2)("uploader");return(0,n.uX)(),(0,n.CE)("div",Ht,[Jt,(0,n.Lk)("div",Zt,[(0,n.Lk)("div",el,[(0,n.bF)(s,{onHandleUpload:e.handleUpload,isUpload:e.isUpload},null,8,["onHandleUpload","isUpload"]),tl]),(0,n.Lk)("div",ll,[(0,n.Lk)("button",{disabled:!e.isUpload,onclick:"window.print()",class:"btn-print",title:"列印小抄",type:"button"},rl,8,al),sl])])])}const cl={class:"border-green-800 rounded-lg text-white bg-green-600 hover:bg-green-700 transition-colors"},ul={class:"md:text-lg text-center px-4 py-3 relative block cursor-pointer",title:"匯入 ride_plan.csv"},dl=(0,n.Lk)("i",{class:"icon-check text-2xl","aria-hidden":"true"},null,-1),pl=(0,n.eW)(" 匯入成功 "),vl=(0,n.Lk)("i",{class:"icon-file-text md:text-2xl","aria-hidden":"true"},null,-1),bl=(0,n.eW)(" 匯入 ride_plan.csv ");function ml(e,t,l,a,o,r){return(0,n.uX)(),(0,n.CE)("div",cl,[(0,n.Lk)("label",ul,[e.isUpload?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[dl,pl],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[vl,bl],64)),(0,n.Lk)("input",{onChange:t[0]||(t[0]=t=>e.$emit("handleUpload",t)),type:"file",accept:".csv",class:"w-0 h-0 absolute opacity-0"},null,32)])])}var gl=(0,n.pM)({name:"uploader-tool",props:{isUpload:{type:Boolean,default:!1}}});const hl=(0,re.A)(gl,[["render",ml]]);var fl=hl,kl=(0,n.pM)({components:{uploader:fl},setup(e,{emit:t}){const l=(0,b.KR)([]),a=e=>{const t=e.target,l=t.files;if(!l?.length)return;const a=l[0];o(a)},o=e=>{const a=new FileReader;a.readAsText(e),a.onload=function(){const e=a.result;if(!e)return;const n=e.split("\r\n");if(!n||0===n.length)return void alert("檔案格式錯誤");const o=n.slice(1),s=o.map((e=>e.split(","))).filter((e=>e.length>1));l.value=r(s),Array.isArray(l.value)&&l.value.length&&t("upload",l.value)}},r=e=>{return e.map((e=>({start:t(e[0]).start,end:t(e[0]).end,distance:e[1],cumulative_distance:e[2],wattage:e[3],average_speed:e[4],segment_time:e[5],cumulative_time:e[6]})));function t(e){const t=/Section_\d+ (\S+?)_(\S+)/g.exec(e);if(null!==t)return{start:t[1],end:t[2]};const l=/(\S+?)-(\S+)/g.exec(e);return null!==l?{start:l[1],end:l[2]}:{start:"",end:""}}},s=(0,n.EW)((()=>Array.isArray(l.value)&&l.value.length>0));return{handleUpload:a,STEPS:l,isUpload:s}}});const yl=(0,re.A)(kl,[["render",il]]);var xl=yl;const _l={class:"text-center py-5 border-t border-stone-300 border-dashed bg-stone-100 relative"},wl=(0,n.Lk)("i",{class:"icon-scissors absolute left-1/2 top-0 -translate-y-1/2 rotate-90"},null,-1),Sl=(0,n.Lk)("small",{class:"block mb-2"},"自製分享、無廣告、無營利",-1),Ll={class:"flex justify-center gap-x-4"},El=(0,n.Fv)('<div><img src="https://img.shields.io/github/package-json/v/kos0616/print_ct_route?color=green" class="max-w-full h-auto inline-block" alt="版本編號" height="20" loading="lazy"></div><a href="https://github.com/kos0616/print_ct_route" target="_blank"><img src="https://img.shields.io/badge/%C2%A92022-kos0616-orange" class="max-w-full h-auto inline-block" alt="作者: kos0616" height="20" loading="lazy"></a><a href="https://github.com/kos0616/print_ct_route" title="作者: kos0616" class="hover:underline hover:text-orange-500"><i class="icon-github"></i></a>',3);function Cl(e,t,l,a,o,r){const s=(0,n.g2)("message");return(0,n.uX)(),(0,n.CE)("footer",_l,[wl,Sl,(0,n.Lk)("div",Ll,[El,(0,n.bF)(s)])])}const Tl=e=>((0,n.Qi)("data-v-4fa3b7e3"),e=e(),(0,n.jt)(),e),Pl=Tl((()=>(0,n.Lk)("i",{class:"fa-regular fa-comment fa-fw"},null,-1))),Ml=(0,n.eW)(" 留言 "),Al=[Pl,Ml],Fl={class:"rounded border-2 border-orange-400 p-4 py-5 bg-white"},Rl={class:"relative"},Xl=Tl((()=>(0,n.Lk)("i",{class:"fas fa-times"},null,-1))),Il=[Xl],Kl=Tl((()=>(0,n.Lk)("label",{for:"message",class:"block mb-3"},"留言給作者",-1))),Ul=Tl((()=>(0,n.Lk)("p",{class:"mb-3"},"若您遇到了bug，請在這邊留言，也歡迎許願新功能哦。",-1))),Yl=Tl((()=>(0,n.Lk)("button",{title:"送出留言",type:"submit",class:"border px-5 py-1 rounded hover:bg-orange-400 hover:text-white transition-colors"}," 送出 ",-1)));function Wl(e,t,l,o,r,s){return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=(...t)=>e.handleOpenMsg&&e.handleOpenMsg(...t)),title:"留言給我",class:"hover:text-orange-400 text-sm"},Al),e.closed?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",{key:0,onKeyup:t[4]||(t[4]=(0,a.jR)((t=>e.closed=!e.closed),["esc"])),onClick:t[5]||(t[5]=(0,a.D$)((t=>e.closed=!e.closed),["self"])),class:"fadeIn fixed bg-gray-600/60 backdrop-blur-sm top-0 bottom-0 left-0 right-0 flex justify-center flex-wrap content-center"},[(0,n.Lk)("div",Fl,[(0,n.Lk)("div",Rl,[(0,n.Lk)("button",{onClick:t[1]||(t[1]=t=>e.closed=!e.closed),title:"關閉",class:"px-3 hover:text-orange-400 absolute top-0 right-0"},Il),(0,n.Lk)("form",{onSubmit:t[3]||(t[3]=(0,a.D$)(((...t)=>e.handleSubmit&&e.handleSubmit(...t)),["prevent"]))},[Kl,(0,n.bo)((0,n.Lk)("textarea",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.msg=t),placeholder:"請在此輸入您想說的話",id:"message",name:"message",rows:"4",cols:"50",required:"",class:"border p-2",ref:"REF_INPUT"},null,512),[[a.Jo,e.msg]]),Ul,Yl],32)])])],32))],64)}var Ol=l(4874),jl=l.n(Ol),Ql=(0,n.pM)({setup(){const e=(0,b.KR)(!0),t=(0,b.KR)(""),l=(0,b.KR)(null),a=()=>{e.value=!e.value,setTimeout((()=>{l.value&&l.value?.focus()}),300)},n=async()=>{const e="https://api.val.town/v1/run/kos0616.callme",l=JSON.stringify(t.value);await fetch(`${e}?args=[${l}]`).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((()=>{jl().fire({icon:"success",title:"已收到您寶貴的留言",html:t.value})})).catch((e=>{console.error("Error:",e),jl().fire({icon:"error",title:"被玩壞了... :-(",html:'留言功能故障了，如果您方便的話，請直接寄信告知我，謝謝\n<a class="hover:bg-gray-100 my-2 py-2 border block rounded" href="mailto:javert0616@gmail.com"><i class="fas fa-envelope fa-fw"></i>Email</a>'})}))};return{closed:e,handleSubmit:n,msg:t,handleOpenMsg:a,REF_INPUT:l}}});const zl=(0,re.A)(Ql,[["render",Wl],["__scopeId","data-v-4fa3b7e3"]]);var Nl=zl,$l=(0,n.pM)({name:"copyright",components:{message:Nl}});const Bl=(0,re.A)($l,[["render",Cl]]);var ql=Bl;const Gl={class:"header-banner relative"},Dl=(0,n.Fv)('<a href="https://cyclingtips.com/2017/04/tour-flanders-tech-boonens-custom-rim-brake-roubaix-cobble-smoothing-comfort/" title="cyclingtips" class="absolute right-5 bottom-2 z-20" target="_blank" data-v-f31d4f54><small class="text-gray-300" data-v-f31d4f54>圖片來源</small></a><div class="absolute left-1/2 top-1/2 -translate-y-1/2 -translate-x-1/2 text-center" data-v-f31d4f54><h1 class="dec-h1 text-xl sm:text-5xl tracking-wider mb-3 relative inline-block" data-v-f31d4f54><span class="siteName relative text-white z-20" data-v-f31d4f54>Stem Pace</span></h1><div class="bg-slate-100 mt-5" data-v-f31d4f54><p class="sm:text-lg p-3 border-b border-gray-400 border-dashed relative" data-v-f31d4f54> 印出你的配速小抄 <i class="icon-scissors absolute left-0 bottom-0 translate-x-3 translate-y-1/2" data-v-f31d4f54></i></p><a title="開始製作屬於你的配速小抄" href="#intro" class="group block p-3 hover:bg-gray-300/90 transition-colors" data-v-f31d4f54> 馬上開始 <i class="icon-chevron-down block group-hover:animate-bounce" aria-hidden="true" data-v-f31d4f54></i></a></div></div>',2),Vl=[Dl];function Hl(e,t){return(0,n.uX)(),(0,n.CE)("header",Gl,Vl)}const Jl={},Zl=(0,re.A)(Jl,[["render",Hl],["__scopeId","data-v-f31d4f54"]]);var ea=Zl,ta=(0,n.pM)({name:"App",components:{myHeader:ea,tutorial:xl,preview:Kt,intro:Nt,aboutCT:Vt,copyright:ql},setup(){const e=(0,b.KR)([]),t=t=>{e.value=t},l=(0,n.EW)((()=>Array.isArray(e.value)&&e.value.length>0));return{handleUploaded:t,STEPS:e,isUpload:l}}});const la=(0,re.A)(ta,[["render",v]]);var aa=la;(0,a.Ef)(aa).mount("#app")},8559:function(e,t,l){e.exports=l.p+"img/hqdefault.c8862ef6.webp"}},t={};function l(a){var n=t[a];if(void 0!==n)return n.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,l),o.exports}l.m=e,function(){var e=[];l.O=function(t,a,n,o){if(!a){var r=1/0;for(u=0;u<e.length;u++){a=e[u][0],n=e[u][1],o=e[u][2];for(var s=!0,i=0;i<a.length;i++)(!1&o||r>=o)&&Object.keys(l.O).every((function(e){return l.O[e](a[i])}))?a.splice(i--,1):(s=!1,o<r&&(r=o));if(s){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[a,n,o]}}(),function(){l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,{a:t}),t}}(),function(){l.d=function(e,t){for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){l.p="/print_ct_route/"}(),function(){var e={524:0};l.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,o,r=a[0],s=a[1],i=a[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(n in s)l.o(s,n)&&(l.m[n]=s[n]);if(i)var u=i(l)}for(t&&t(a);c<r.length;c++)o=r[c],l.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return l.O(u)},a=self["webpackChunkprint_ct_route"]=self["webpackChunkprint_ct_route"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=l.O(void 0,[504],(function(){return l(3031)}));a=l.O(a)})();