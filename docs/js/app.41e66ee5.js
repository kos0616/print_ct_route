(function(){"use strict";var t={5592:function(t,e,l){var a=l(9242),n=l(3396);const r={class:"max-w-5xl mx-auto py-5 px-5"},s={class:"print:hidden"},o=(0,n._)("article",{class:"text-center mb-3"},[(0,n._)("h1",{class:"text-2xl font-bold mb-3"},"CT Yeh 路段配速器 小抄產生器"),(0,n._)("p",{class:"mb-2"},[(0,n.Uk)(" 請至 "),(0,n._)("a",{href:"https://www.ctyeh.com/routelist",target:"_blank",class:"hover:underline text-green-700",title:"前往 CT Yeh 公路車基地"}," CT Yeh 公路車基地 "),(0,n.Uk)(" 取得配速小抄， 再進行上傳與列印。 ")]),(0,n._)("p",null,"列印後剪下，經護貝或用膠帶黏貼正反兩面即可防水。")],-1),i={class:"flex gap-x-4 justify-center"},u={key:0,onclick:"window.print()",class:"text-lg text-center px-4 py-3 relative block border rounded-md bg-blue-500 text-white hover:bg-blue-600 transition-colors",title:"列印小抄",type:"button"},c=(0,n._)("i",{class:"fas fa-print"},null,-1),d=(0,n.Uk)(" 列印小抄 "),p=[c,d],m=(0,n._)("footer",{class:"fixed right-5 bottom-5"},[(0,n._)("a",{href:"https://github.com/kos0616/print_ct_route",title:"作者: kos0616",class:"hover:underline"},[(0,n._)("i",{class:"fa-brands fa-github"})])],-1),_={key:0,class:"px-3 py-2 lg:p-5 print:p-0"},b={class:"w-full overflow-x-auto xl:overflow-visible"};function g(t,e,l,a,c,d){const g=(0,n.up)("uploader"),f=(0,n.up)("intro"),v=(0,n.up)("preview");return(0,n.wg)(),(0,n.iD)("div",r,[(0,n._)("div",s,[o,(0,n._)("div",i,[(0,n.Wm)(g,{onHandleUpload:t.handleUpload},null,8,["onHandleUpload"]),Array.isArray(t.STEPS)&&t.STEPS.length?((0,n.wg)(),(0,n.iD)("button",u,p)):(0,n.kq)("",!0)]),m]),(0,n.Wm)(f,{class:"print:hidden my-10 mx-auto"}),Array.isArray(t.STEPS)&&t.STEPS.length?((0,n.wg)(),(0,n.iD)("div",_,[(0,n._)("div",b,[(0,n.Wm)(v,{modelValue:t.STEPS},null,8,["modelValue"])])])):(0,n.kq)("",!0)])}var f=l(4870);const v={class:"border-green-800 rounded-lg text-white bg-green-600 hover:bg-green-700 transition-colors max-w-sm"},h={title:"上傳 ride_plan.csv",class:"text-lg text-center px-4 py-3 relative block cursor-pointer"},w=(0,n._)("i",{class:"fa-solid fa-file-csv text-2xl"},null,-1),y=(0,n._)("strong",null," 上傳 ride_plan.csv ",-1);function x(t,e,l,a,r,s){return(0,n.wg)(),(0,n.iD)("div",v,[(0,n._)("label",h,[w,y,(0,n._)("input",{onChange:e[0]||(e[0]=e=>t.$emit("handleUpload",e)),type:"file",accept:".csv",class:"w-0 h-0 absolute"},null,32)])])}var S=(0,n.aZ)({name:"uploader-tool"}),k=l(89);const T=(0,k.Z)(S,[["render",x]]);var P=T;const C={class:"flex gap-x-14 justify-center items-start"};function E(t,e,l,a,r,s){const o=(0,n.up)("full"),i=(0,n.up)("type_A"),u=(0,n.up)("type_A2"),c=(0,n.up)("type_B"),d=(0,n.up)("type_B2");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(o,{STEPS:t.STEPS,class:"mb-5"},null,8,["STEPS"]),(0,n._)("div",C,[(0,n.Wm)(i,{STEPS:t.STEPS,class:"mb-5"},null,8,["STEPS"]),(0,n.Wm)(u,{STEPS:t.STEPS,class:"mb-5"},null,8,["STEPS"]),(0,n.Wm)(c,{STEPS:t.STEPS},null,8,["STEPS"]),(0,n.Wm)(d,{STEPS:t.STEPS},null,8,["STEPS"])])])}var D=l(7139);const U=t=>((0,n.dD)("data-v-40e224cd"),t=t(),(0,n.Cn)(),t),z={class:"table-auto table-striped border border-gray-600 table mx-auto",contenteditable:""},Z=U((()=>(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",{colspan:"2"},"區段"),(0,n._)("th",null,"距離"),(0,n._)("th",null,"累積"),(0,n._)("th",null,"配瓦"),(0,n._)("th",null,"均速"),(0,n._)("th",null,"區段時間"),(0,n._)("th",null,"累積時間")])],-1))),A={class:"text-center"},O={class:"text-center"},W={class:"text-right font-bold"},H=U((()=>(0,n._)("small",null,"k",-1))),Y={class:"text-right font-bold"},R=U((()=>(0,n._)("small",null,"k",-1))),I={class:"text-right font-bold"},j=U((()=>(0,n._)("small",null,"w",-1))),F={class:"text-right font-bold"},N=U((()=>(0,n._)("small",null,"k/h",-1))),$={class:"text-center"},q={class:"text-center"},K={class:"border border-gray-600 border-t-0",style:{"caption-side":"bottom"}},B={class:"flex w-full py-1 px-3"},M=U((()=>(0,n._)("span",null,null,-1))),V={class:"ml-auto"};function L(t,e,l,a,r,s){return(0,n.wg)(),(0,n.iD)("table",z,[Z,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.STEPS,((t,e)=>((0,n.wg)(),(0,n.iD)("tr",{key:`step_${e}`},[(0,n._)("td",A,(0,D.zw)(t.start),1),(0,n._)("td",O,(0,D.zw)(t.end),1),(0,n._)("td",W,[(0,n.Uk)((0,D.zw)(t.distance),1),H]),(0,n._)("td",Y,[(0,n.Uk)((0,D.zw)(t.cumulative_distance),1),R]),(0,n._)("td",I,[(0,n.Uk)((0,D.zw)(t.wattage),1),j]),(0,n._)("td",F,[(0,n.Uk)((0,D.zw)(t.average_speed),1),N]),(0,n._)("td",$,(0,D.zw)(t.segment_time),1),(0,n._)("td",q,(0,D.zw)(t.cumulative_time),1)])))),128))]),(0,n._)("caption",K,[(0,n._)("div",B,[M,(0,n._)("span",V,(0,D.zw)(t.now),1)])])])}var X=l(5743),G=l.n(X),J=(0,n.aZ)({props:{STEPS:{type:Array,default:()=>[]}},setup:()=>{const t=G()().format("YYYY/MM/DD");return{now:t}}});const Q=(0,k.Z)(J,[["render",L],["__scopeId","data-v-40e224cd"]]);var tt=Q;const et=t=>((0,n.dD)("data-v-c73ef6e2"),t=t(),(0,n.Cn)(),t),lt={class:"table-auto border table-striped table table-sm border-gray-600",contenteditable:""},at={class:"text-right"},nt=et((()=>(0,n._)("small",null,"k",-1))),rt={class:"text-right"},st=et((()=>(0,n._)("small",null,"k/h",-1)));function ot(t,e,l,a,r,s){const o=(0,n.up)("myCaption");return(0,n.wg)(),(0,n.iD)("table",lt,[(0,n.Wm)(o),(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.STEPS,((t,e)=>((0,n.wg)(),(0,n.iD)(n.HY,{key:`step_${e}`},[(0,n._)("tr",null,[(0,n._)("td",null,(0,D.zw)(t.end),1),(0,n._)("td",at,[(0,n.Uk)((0,D.zw)(t.cumulative_distance),1),nt])]),(0,n._)("tr",null,[(0,n._)("td",null,(0,D.zw)(t.cumulative_time),1),(0,n._)("td",rt,[(0,n.Uk)((0,D.zw)(t.average_speed),1),st])])],64)))),128))]),(0,n.Wm)(o,{style:{"caption-side":"bottom"}})])}const it={class:"border-dashed border border-gray-400 print:border-0 relative"},ut=["src"],ct={key:1};function dt(t,e,l,a,r,s){const o=(0,n.up)("imgUploader");return(0,n.wg)(),(0,n.iD)("caption",it,[(0,n.Wm)(o,{onChange:t.handleImgUpload,class:"absolute left-0 top-0",style:{transform:"translateX(calc(-100% - 10px))"},contenteditable:"false"},null,8,["onChange"]),t.top_img?((0,n.wg)(),(0,n.iD)("img",{key:0,onClick:e[0]||(e[0]=e=>t.top_img=""),src:t.top_img,class:"cursor-pointer hover:opacity-50 transition-opacity",title:"刪除圖片"},null,8,ut)):((0,n.wg)(),(0,n.iD)("br",ct))])}const pt=t=>((0,n.dD)("data-v-13508c4e"),t=t(),(0,n.Cn)(),t),mt={class:"print:hidden text-center border border-gray-300 hover:border-gray-400 transition-colors rounded-md arrow bg-white"},_t={key:0,class:"py-1 px-2 inline-block relative cursor-pointer",title:"上傳圖片"},bt=pt((()=>(0,n._)("i",{class:"far fa-image fa-fw text-gray-500"},null,-1))),gt={ref:"REF_CROP",class:"py-2 px-2"},ft={key:1,class:"text-center justify-center flex gap-x-2 pb-2"},vt=pt((()=>(0,n._)("i",{class:"fas fa-trash-alt text-red-500"},null,-1))),ht=(0,n.Uk)(" 取消 "),wt=[vt,ht],yt=pt((()=>(0,n._)("i",{class:"fas fa-check"},null,-1))),xt=(0,n.Uk)(" 確認 "),St=[yt,xt];function kt(t,e,l,r,s,o){return(0,n.wg)(),(0,n.iD)("div",mt,[t.CROP_INST?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("label",_t,[bt,(0,n._)("input",{onChange:e[0]||(e[0]=(...e)=>t.handelUpload&&t.handelUpload(...e)),type:"file",accept:"image/*",class:"opacity-0 w-px h-px absolute left-1/2 bottom-1/2",required:""},null,32)])),(0,n.wy)((0,n._)("div",gt,null,512),[[a.F8,t.CROP_INST]]),t.CROP_INST?((0,n.wg)(),(0,n.iD)("div",ft,[(0,n._)("button",{onClick:e[1]||(e[1]=(...e)=>t.removeCrop&&t.removeCrop(...e)),type:"button",class:"border rounded py-1 px-3 border-gray-300 hover:bg-slate-100",title:"取消"},wt),(0,n._)("button",{onClick:e[2]||(e[2]=(...e)=>t.getCrop&&t.getCrop(...e)),type:"button",class:"border rounded py-1 px-3 bg-blue-500 hover:bg-blue-600 text-white",title:"確認"},St)])):(0,n.kq)("",!0)])}var Tt=l(5423),Pt=l.n(Tt),Ct=(0,n.aZ)({emits:["change"],setup(t,{emit:e}){const l=(0,f.iH)(null),a=(0,f.iH)(null),r=(0,f.iH)(""),s=t=>{const e=t.target;if(!e||null===e)return;const l=e.files||[];if(!l.length)return;const a=new FileReader;a.onload=t=>{"string"===typeof t.target?.result&&o(t.target?.result)},a.readAsDataURL(l[0])},o=t=>{null===a.value?i(t):a.value.bind({url:t})},i=t=>{const e=l.value;null!==e&&(a.value=new(Pt())(e,{viewport:{width:160,height:90},boundary:{width:160,height:90},customClass:"h-auto"}),a.value.bind({url:t}))},u=()=>{null!==a.value&&(a.value.result({type:"canvas",size:"original"}).then((t=>{e("change",t)})),c())},c=()=>{a.value&&(a.value?.destroy(),a.value=null,r.value="")};return(0,n.Ah)((()=>c())),{REF_CROP:l,handelUpload:s,getCrop:u,CROP_RESULT:r,CROP_INST:a,removeCrop:c}}});const Et=(0,k.Z)(Ct,[["render",kt],["__scopeId","data-v-13508c4e"]]);var Dt=Et,Ut=(0,n.aZ)({name:"caption with image uploader",components:{imgUploader:Dt},setup(){const t=(0,f.iH)(""),e=e=>{t.value=e};return{top_img:t,handleImgUpload:e}}});const zt=(0,k.Z)(Ut,[["render",dt]]);var Zt=zt,At=(0,n.aZ)({components:{myCaption:Zt},props:{STEPS:{type:Array,default:()=>[]}}});const Ot=(0,k.Z)(At,[["render",ot],["__scopeId","data-v-c73ef6e2"]]);var Wt=Ot;const Ht=t=>((0,n.dD)("data-v-4347ff08"),t=t(),(0,n.Cn)(),t),Yt={class:"table-auto border table-striped table table-sm border-gray-600",contenteditable:""},Rt={class:"text-right"},It=Ht((()=>(0,n._)("small",null,"k",-1))),jt={class:"text-right"},Ft=Ht((()=>(0,n._)("small",null,"w",-1)));function Nt(t,e,l,a,r,s){const o=(0,n.up)("myCaption");return(0,n.wg)(),(0,n.iD)("table",Yt,[(0,n.Wm)(o),(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.STEPS,((t,e)=>((0,n.wg)(),(0,n.iD)(n.HY,{key:`step_${e}`},[(0,n._)("tr",null,[(0,n._)("td",null,(0,D.zw)(t.end),1),(0,n._)("td",Rt,[(0,n.Uk)((0,D.zw)(t.cumulative_distance),1),It])]),(0,n._)("tr",null,[(0,n._)("td",null,(0,D.zw)(t.cumulative_time),1),(0,n._)("td",jt,[(0,n.Uk)((0,D.zw)(t.wattage),1),Ft])])],64)))),128))]),(0,n.Wm)(o,{style:{"caption-side":"bottom"}})])}var $t=(0,n.aZ)({components:{myCaption:Zt},props:{STEPS:{type:Array,default:()=>[]}}});const qt=(0,k.Z)($t,[["render",Nt],["__scopeId","data-v-4347ff08"]]);var Kt=qt;const Bt=t=>((0,n.dD)("data-v-00843053"),t=t(),(0,n.Cn)(),t),Mt={class:"table-auto border table-striped table table-sm border-gray-600",contenteditable:""},Vt={class:"text-right"},Lt=Bt((()=>(0,n._)("small",null,"k",-1))),Xt={class:"text-right"},Gt=Bt((()=>(0,n._)("small",null,"k/h",-1)));function Jt(t,e,l,a,r,s){const o=(0,n.up)("myCaption");return(0,n.wg)(),(0,n.iD)("table",Mt,[(0,n.Wm)(o),(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.STEPS,((t,e)=>((0,n.wg)(),(0,n.iD)("tr",{key:`step_${e}`},[(0,n._)("td",Vt,[(0,n.Uk)((0,D.zw)(t.cumulative_distance),1),Lt]),(0,n._)("td",Xt,[(0,n.Uk)((0,D.zw)(t.average_speed),1),Gt]),(0,n._)("td",null,(0,D.zw)(t.cumulative_time),1)])))),128))]),(0,n.Wm)(o,{style:{"caption-side":"bottom"}})])}var Qt=(0,n.aZ)({components:{myCaption:Zt},props:{STEPS:{type:Array,default:()=>[]}}});const te=(0,k.Z)(Qt,[["render",Jt],["__scopeId","data-v-00843053"]]);var ee=te;const le=t=>((0,n.dD)("data-v-0289b72a"),t=t(),(0,n.Cn)(),t),ae={class:"table-auto border table-striped table table-sm border-gray-600",contenteditable:""},ne={class:"text-right"},re=le((()=>(0,n._)("small",null,"k",-1))),se={class:"text-right"},oe=le((()=>(0,n._)("small",null,"w",-1)));function ie(t,e,l,a,r,s){const o=(0,n.up)("myCaption");return(0,n.wg)(),(0,n.iD)("table",ae,[(0,n.Wm)(o),(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.STEPS,((t,e)=>((0,n.wg)(),(0,n.iD)("tr",{key:`step_${e}`},[(0,n._)("td",ne,[(0,n.Uk)((0,D.zw)(t.cumulative_distance),1),re]),(0,n._)("td",se,[(0,n.Uk)((0,D.zw)(t.wattage),1),oe]),(0,n._)("td",null,(0,D.zw)(t.cumulative_time),1)])))),128))]),(0,n.Wm)(o,{style:{"caption-side":"bottom"}})])}var ue=(0,n.aZ)({components:{myCaption:Zt},props:{STEPS:{type:Array,default:()=>[]}}});const ce=(0,k.Z)(ue,[["render",ie],["__scopeId","data-v-0289b72a"]]);var de=ce,pe=(0,n.aZ)({name:"print preview",components:{full:tt,type_A:Wt,type_A2:Kt,type_B:ee,type_B2:de},props:{modelValue:{type:Array,default:()=>[]}},setup(t){const e=t=>{switch(t){case"最高小七":return"小七";default:return t}},l=(0,n.Fl)((()=>t.modelValue.map((t=>({...t,start:e(t.start),end:e(t.end),distance:Number(t.distance).toFixed(1),cumulative_distance:Number(t.cumulative_distance).toFixed(1),wattage:t.wattage,average_speed:Math.floor(Number(t.average_speed)),segment_time:a(t.segment_time),cumulative_time:a(t.cumulative_time)}))))),a=t=>{const e=t.split(":");return e[0]+":"+e[1]};return{STEPS:l,formatPlaceName:e}}});const me=(0,k.Z)(pe,[["render",E]]);var _e=me,be=l.p+"img/sample2.85eb818a.jpg";const ge=(0,n.uE)('<div class="md:flex gap-x-4 items-center justify-between"><div class="px-3 lg:px-0"><h2 class="text-gray-700 text-2xl font-bold tracking-wider mb-6"> 自由編輯 </h2><div class="mb-5"><h3 class="text-xl mb-1"><i class="fas fa-table fa-fw"></i> 隨意編輯表格文字 </h3><p class="pl-8"> 您可以將小七改為7-11、移除單位節省空間、或是標記休息點。 </p></div><div class="mb-5"><h3 class="text-xl mb-1"><i class="w-5 h-5 inline-block border rounded border-gray-400 border-dashed align-sub"></i> 表格頭尾備註框 </h3><p class="pl-8"> 緊急聯絡人？「莫忘初衷」？ 只要龍頭/上管塞得下就沒問題！ </p></div><div class="mb-5"><h3 class="text-xl mb-1"><i class="far fa-image fa-fw text-gray-500"></i> 圖片裝飾 </h3><p class="pl-8"> 小孩照片還是另一半的照片？ 別擔心，可以放2張照片。 <small class="block text-gray-400"> *本工具沒有上傳功能，不會記錄任何圖片 </small></p></div></div><figure class="max-w-sm hidden lg:block"><img src="'+be+'" alt="貼在龍頭的小抄"></figure></div>',1),fe=[ge];function ve(t,e){return(0,n.wg)(),(0,n.iD)("article",null,fe)}const he={},we=(0,k.Z)(he,[["render",ve]]);var ye=we,xe=(0,n.aZ)({name:"App",components:{uploader:P,preview:_e,intro:ye},setup(){const t=(0,f.iH)([]),e=t=>{const e=t.target,a=e.files;if(!a?.length)return;const n=a[0];l(n)},l=e=>{const l=new FileReader;l.readAsText(e),l.onload=function(){const e=l.result;if(!e)return;const n=e.split("\r\n");if(!n||0===n.length)return void alert("檔案格式錯誤");const r=n.slice(1),s=r.map((t=>t.split(","))).filter((t=>t.length>1));t.value=a(s)}},a=t=>t.map((t=>({start:t[0].split("-")[0],end:t[0].split("-")[1],distance:t[1],cumulative_distance:t[2],wattage:t[3],average_speed:t[4],segment_time:t[5],cumulative_time:t[6]})));return{handleUpload:e,STEPS:t}}});const Se=(0,k.Z)(xe,[["render",g]]);var ke=Se;(0,a.ri)(ke).mount("#app")}},e={};function l(a){var n=e[a];if(void 0!==n)return n.exports;var r=e[a]={exports:{}};return t[a].call(r.exports,r,r.exports,l),r.exports}l.m=t,function(){var t=[];l.O=function(e,a,n,r){if(!a){var s=1/0;for(c=0;c<t.length;c++){a=t[c][0],n=t[c][1],r=t[c][2];for(var o=!0,i=0;i<a.length;i++)(!1&r||s>=r)&&Object.keys(l.O).every((function(t){return l.O[t](a[i])}))?a.splice(i--,1):(o=!1,r<s&&(s=r));if(o){t.splice(c--,1);var u=n();void 0!==u&&(e=u)}}return e}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[a,n,r]}}(),function(){l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,{a:e}),e}}(),function(){l.d=function(t,e){for(var a in e)l.o(e,a)&&!l.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){l.p="/print_ct_route/"}(),function(){var t={143:0};l.O.j=function(e){return 0===t[e]};var e=function(e,a){var n,r,s=a[0],o=a[1],i=a[2],u=0;if(s.some((function(e){return 0!==t[e]}))){for(n in o)l.o(o,n)&&(l.m[n]=o[n]);if(i)var c=i(l)}for(e&&e(a);u<s.length;u++)r=s[u],l.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return l.O(c)},a=self["webpackChunkprint_ct_route"]=self["webpackChunkprint_ct_route"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=l.O(void 0,[998],(function(){return l(5592)}));a=l.O(a)})();