(function(){"use strict";var t={2760:function(t,e,l){var a=l(9242),n=l(3396);const r={class:"max-w-6xl mx-auto py-5 px-5"},s={class:"print:hidden"},u=(0,n._)("article",{class:"text-center mb-3"},[(0,n._)("h1",{class:"text-2xl font-bold mb-3"},"CT Yeh 路段配速器 小抄產生器"),(0,n._)("p",{class:"mb-2"},[(0,n.Uk)(" 請至 "),(0,n._)("a",{href:"https://www.ctyeh.com/routelist",target:"_blank",class:"hover:underline text-green-700",title:"前往 CT Yeh 公路車基地"}," CT Yeh 公路車基地 "),(0,n.Uk)(" 取得配速小抄， 再進行上傳與列印。 ")]),(0,n._)("p",null,"列印後剪下，經護貝或用膠帶黏貼正反兩面即可防水。")],-1),o={class:"flex gap-x-4 justify-center"},i={key:0,onclick:"window.print()",class:"text-lg text-center px-4 py-3 relative block border rounded-md bg-blue-500 text-white hover:bg-blue-600 transition-colors",title:"列印小抄",type:"button"},c=(0,n._)("i",{class:"fas fa-print"},null,-1),d=(0,n.Uk)(" 列印小抄 "),p=[c,d],_=(0,n._)("footer",{class:"fixed right-5 bottom-5"},[(0,n._)("a",{href:"https://github.com/kos0616/print_ct_route",title:"作者: kos0616",class:"hover:underline"},[(0,n._)("i",{class:"fa-brands fa-github"})])],-1),b={key:0,class:"px-3 py-2 lg:p-5"};function f(t,e,l,a,c,d){const f=(0,n.up)("uploader"),m=(0,n.up)("preview");return(0,n.wg)(),(0,n.iD)("div",r,[(0,n._)("div",s,[u,(0,n._)("div",o,[(0,n.Wm)(f,{onHandleUpload:t.handleUpload},null,8,["onHandleUpload"]),Array.isArray(t.STEPS)&&t.STEPS.length?((0,n.wg)(),(0,n.iD)("button",i,p)):(0,n.kq)("",!0)]),_]),Array.isArray(t.STEPS)&&t.STEPS.length?((0,n.wg)(),(0,n.iD)("div",b,[(0,n.Wm)(m,{modelValue:t.STEPS},null,8,["modelValue"])])):(0,n.kq)("",!0)])}var m=l(4870);const v={class:"border-green-800 rounded-lg text-white bg-green-600 hover:bg-green-700 transition-colors max-w-sm"},g={title:"上傳 ride_plan.csv",class:"text-lg text-center px-4 py-3 relative block cursor-pointer"},w=(0,n._)("i",{class:"fa-solid fa-file-csv text-2xl"},null,-1),h=(0,n._)("strong",null," 上傳 ride_plan.csv ",-1);function S(t,e,l,a,r,s){return(0,n.wg)(),(0,n.iD)("div",v,[(0,n._)("label",g,[w,h,(0,n._)("input",{onChange:e[0]||(e[0]=e=>t.$emit("handleUpload",e)),type:"file",accept:".csv",class:"w-0 h-0 absolute"},null,32)])])}var y=(0,n.aZ)({name:"uploader-tool"}),x=l(89);const k=(0,x.Z)(y,[["render",S]]);var T=k;const P={class:"flex flex-wrap gap-y-5 gap-x-2 justify-between items-start h-full"};function E(t,e,l,a,r,s){const u=(0,n.up)("full"),o=(0,n.up)("type_A"),i=(0,n.up)("type_A2"),c=(0,n.up)("type_B"),d=(0,n.up)("type_B2");return(0,n.wg)(),(0,n.iD)("div",P,[(0,n.Wm)(u,{STEPS:t.STEPS},null,8,["STEPS"]),(0,n.Wm)(o,{STEPS:t.STEPS},null,8,["STEPS"]),(0,n.Wm)(i,{STEPS:t.STEPS},null,8,["STEPS"]),(0,n._)("div",null,[(0,n.Wm)(c,{STEPS:t.STEPS,class:"mb-10"},null,8,["STEPS"]),(0,n.Wm)(d,{STEPS:t.STEPS},null,8,["STEPS"])])])}var D=l(7139);const z=t=>((0,n.dD)("data-v-6d31512b"),t=t(),(0,n.Cn)(),t),U={class:"w-1/2 table-auto table-striped border border-gray-600 table"},A=z((()=>(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",{colspan:"2"},"區段"),(0,n._)("th",null,"距離"),(0,n._)("th",null,"累積"),(0,n._)("th",null,"配瓦"),(0,n._)("th",null,"均速"),(0,n._)("th",null,"區段時間"),(0,n._)("th",null,"累積時間")])],-1))),Z={class:"text-center"},C={class:"text-center"},O={class:"text-right font-bold"},H=z((()=>(0,n._)("small",null,"k",-1))),Y={class:"text-right font-bold"},j=z((()=>(0,n._)("small",null,"k",-1))),W={class:"text-right font-bold"},$=z((()=>(0,n._)("small",null,"w",-1))),F={class:"text-right font-bold"},I=z((()=>(0,n._)("small",null,"k/h",-1))),K={class:"text-center"},B={class:"text-center"};function N(t,e,l,a,r,s){return(0,n.wg)(),(0,n.iD)("table",U,[A,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.STEPS,((t,e)=>((0,n.wg)(),(0,n.iD)("tr",{key:`step_${e}`},[(0,n._)("td",Z,(0,D.zw)(t.start),1),(0,n._)("td",C,(0,D.zw)(t.end),1),(0,n._)("td",O,[(0,n.Uk)((0,D.zw)(t.distance),1),H]),(0,n._)("td",Y,[(0,n.Uk)((0,D.zw)(t.cumulative_distance),1),j]),(0,n._)("td",W,[(0,n.Uk)((0,D.zw)(t.wattage),1),$]),(0,n._)("td",F,[(0,n.Uk)((0,D.zw)(t.average_speed),1),I]),(0,n._)("td",K,(0,D.zw)(t.segment_time),1),(0,n._)("td",B,(0,D.zw)(t.cumulative_time),1)])))),128))])])}var V=(0,n.aZ)({props:{STEPS:{type:Array,default:()=>[]}}});const q=(0,x.Z)(V,[["render",N],["__scopeId","data-v-6d31512b"]]);var M=q;const R=t=>((0,n.dD)("data-v-d8d29180"),t=t(),(0,n.Cn)(),t),G={class:"table-auto border table-striped table table-sm border-gray-600"},J={class:"text-right"},L=R((()=>(0,n._)("small",null,"k",-1))),Q={class:"text-right"},X=R((()=>(0,n._)("small",null,"k/h",-1)));function tt(t,e,l,a,r,s){return(0,n.wg)(),(0,n.iD)("table",G,[(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.STEPS,((t,e)=>((0,n.wg)(),(0,n.iD)(n.HY,{key:`step_${e}`},[(0,n._)("tr",null,[(0,n._)("td",null,(0,D.zw)(t.end),1),(0,n._)("td",J,[(0,n.Uk)((0,D.zw)(t.cumulative_distance),1),L])]),(0,n._)("tr",null,[(0,n._)("td",null,(0,D.zw)(t.cumulative_time),1),(0,n._)("td",Q,[(0,n.Uk)((0,D.zw)(t.average_speed),1),X])])],64)))),128))])])}var et=(0,n.aZ)({props:{STEPS:{type:Array,default:()=>[]}}});const lt=(0,x.Z)(et,[["render",tt],["__scopeId","data-v-d8d29180"]]);var at=lt;const nt=t=>((0,n.dD)("data-v-dcfbaae6"),t=t(),(0,n.Cn)(),t),rt={class:"table-auto border table-striped table table-sm border-gray-600"},st={class:"text-right"},ut=nt((()=>(0,n._)("small",null,"k",-1))),ot={class:"text-right"},it=nt((()=>(0,n._)("small",null,"w",-1)));function ct(t,e,l,a,r,s){return(0,n.wg)(),(0,n.iD)("table",rt,[(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.STEPS,((t,e)=>((0,n.wg)(),(0,n.iD)(n.HY,{key:`step_${e}`},[(0,n._)("tr",null,[(0,n._)("td",null,(0,D.zw)(t.end),1),(0,n._)("td",st,[(0,n.Uk)((0,D.zw)(t.cumulative_distance),1),ut])]),(0,n._)("tr",null,[(0,n._)("td",null,(0,D.zw)(t.cumulative_time),1),(0,n._)("td",ot,[(0,n.Uk)((0,D.zw)(t.wattage),1),it])])],64)))),128))])])}var dt=(0,n.aZ)({props:{STEPS:{type:Array,default:()=>[]}}});const pt=(0,x.Z)(dt,[["render",ct],["__scopeId","data-v-dcfbaae6"]]);var _t=pt;const bt=t=>((0,n.dD)("data-v-7dbbfa45"),t=t(),(0,n.Cn)(),t),ft={class:"table-auto border table-striped table table-sm border-gray-600"},mt={class:"text-right"},vt=bt((()=>(0,n._)("small",null,"k",-1))),gt={class:"text-right"},wt=bt((()=>(0,n._)("small",null,"w",-1)));function ht(t,e,l,a,r,s){return(0,n.wg)(),(0,n.iD)("table",ft,[(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.STEPS,((t,e)=>((0,n.wg)(),(0,n.iD)("tr",{key:`step_${e}`},[(0,n._)("td",mt,[(0,n.Uk)((0,D.zw)(t.cumulative_distance),1),vt]),(0,n._)("td",gt,[(0,n.Uk)((0,D.zw)(t.wattage),1),wt]),(0,n._)("td",null,(0,D.zw)(t.cumulative_time),1)])))),128))])])}var St=(0,n.aZ)({props:{STEPS:{type:Array,default:()=>[]}}});const yt=(0,x.Z)(St,[["render",ht],["__scopeId","data-v-7dbbfa45"]]);var xt=yt;const kt=t=>((0,n.dD)("data-v-2b3185ae"),t=t(),(0,n.Cn)(),t),Tt={class:"table-auto border table-striped table table-sm border-gray-600"},Pt={class:"text-right"},Et=kt((()=>(0,n._)("small",null,"k",-1))),Dt={class:"text-right"},zt=kt((()=>(0,n._)("small",null,"k/h",-1)));function Ut(t,e,l,a,r,s){return(0,n.wg)(),(0,n.iD)("table",Tt,[(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.STEPS,((t,e)=>((0,n.wg)(),(0,n.iD)("tr",{key:`step_${e}`},[(0,n._)("td",Pt,[(0,n.Uk)((0,D.zw)(t.cumulative_distance),1),Et]),(0,n._)("td",Dt,[(0,n.Uk)((0,D.zw)(t.average_speed),1),zt]),(0,n._)("td",null,(0,D.zw)(t.cumulative_time),1)])))),128))])])}var At=(0,n.aZ)({props:{STEPS:{type:Array,default:()=>[]}}});const Zt=(0,x.Z)(At,[["render",Ut],["__scopeId","data-v-2b3185ae"]]);var Ct=Zt,Ot=(0,n.aZ)({name:"print preview",components:{full:M,type_A:at,type_A2:_t,type_B:xt,type_B2:Ct},props:{modelValue:{type:Array,default:()=>[]}},setup(t){const e=t=>{switch(t){case"最高小七":return"小七";default:return t}},l=(0,n.Fl)((()=>t.modelValue.map((t=>({...t,start:e(t.start),end:e(t.end),distance:Number(t.distance).toFixed(1),cumulative_distance:Number(t.cumulative_distance).toFixed(1),wattage:t.wattage,average_speed:Math.floor(Number(t.average_speed)),segment_time:a(t.segment_time),cumulative_time:a(t.cumulative_time)}))))),a=t=>{const e=t.split(":");return e[0]+":"+e[1]};return{STEPS:l,formatPlaceName:e}}});const Ht=(0,x.Z)(Ot,[["render",E]]);var Yt=Ht,jt=(0,n.aZ)({name:"App",components:{uploader:T,preview:Yt},setup(){const t=(0,m.iH)([]),e=t=>{const e=t.target,a=e.files;if(!a?.length)return;const n=a[0];l(n)},l=e=>{const l=new FileReader;l.readAsText(e),l.onload=function(){const e=l.result;if(!e)return;const n=e.split("\r\n");if(!n||0===n.length)return void alert("檔案格式錯誤");const r=n.slice(1),s=r.map((t=>t.split(","))).filter((t=>t.length>1));t.value=a(s),console.log(t.value)}},a=t=>t.map((t=>({start:t[0].split("-")[0],end:t[0].split("-")[1],distance:t[1],cumulative_distance:t[2],wattage:t[3],average_speed:t[4],segment_time:t[5],cumulative_time:t[6]})));return{handleUpload:e,STEPS:t}}});const Wt=(0,x.Z)(jt,[["render",f]]);var $t=Wt;(0,a.ri)($t).mount("#app")}},e={};function l(a){var n=e[a];if(void 0!==n)return n.exports;var r=e[a]={exports:{}};return t[a](r,r.exports,l),r.exports}l.m=t,function(){var t=[];l.O=function(e,a,n,r){if(!a){var s=1/0;for(c=0;c<t.length;c++){a=t[c][0],n=t[c][1],r=t[c][2];for(var u=!0,o=0;o<a.length;o++)(!1&r||s>=r)&&Object.keys(l.O).every((function(t){return l.O[t](a[o])}))?a.splice(o--,1):(u=!1,r<s&&(s=r));if(u){t.splice(c--,1);var i=n();void 0!==i&&(e=i)}}return e}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[a,n,r]}}(),function(){l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,{a:e}),e}}(),function(){l.d=function(t,e){for(var a in e)l.o(e,a)&&!l.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};l.O.j=function(e){return 0===t[e]};var e=function(e,a){var n,r,s=a[0],u=a[1],o=a[2],i=0;if(s.some((function(e){return 0!==t[e]}))){for(n in u)l.o(u,n)&&(l.m[n]=u[n]);if(o)var c=o(l)}for(e&&e(a);i<s.length;i++)r=s[i],l.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return l.O(c)},a=self["webpackChunkprint_ct_route"]=self["webpackChunkprint_ct_route"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=l.O(void 0,[998],(function(){return l(2760)}));a=l.O(a)})();